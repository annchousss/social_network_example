{"ast":null,"code":"import profileReducer from \"./profileReducer\";\nconst ADD_POST = 'ADD-POST';\nconst UPDATE_NEW_POST = 'UPDATE-NEW-POST';\nconst ADD_MESSAGE = 'ADD-MESSAGE';\nconst UPDATE_NEW_MESSAGE = 'UPDATE-NEW-MESSAGE';\nlet store = {\n  _state: {\n    profilePage: {\n      posts: [{\n        id: 1,\n        content: 'Post1',\n        likes: 10\n      }, {\n        id: 1,\n        content: 'Post2',\n        likes: 20\n      }, {\n        id: 1,\n        content: 'Post3',\n        likes: 30\n      }, {\n        id: 1,\n        content: 'Post4',\n        likes: 40\n      }],\n      mainPhoto: 'https://www.w3schools.com/howto/img_avatar.png',\n      newPostText: 'dich'\n    },\n    dialogPage: {\n      dialogs: [{\n        id: 1,\n        name: 'Name1'\n      }, {\n        id: 2,\n        name: 'Name2'\n      }, {\n        id: 3,\n        name: 'Name3'\n      }, {\n        id: 4,\n        name: 'Name4'\n      }],\n      messages: [{\n        id: 1,\n        message: 'Heyo'\n      }, {\n        id: 2,\n        message: 'Hi'\n      }, {\n        id: 3,\n        message: 'Hello'\n      }, {\n        id: 4,\n        message: 'Salam'\n      }, {\n        id: 5,\n        message: 'Ola'\n      }],\n      newMessageText: ''\n    }\n  },\n\n  dispatch(action) {\n    switch (action.type) {\n      case ADD_POST:\n        // let newPost = {\n        //     id: 5,\n        //     content: this._state.profilePage.newPostText,\n        //     likes: 0\n        // };\n        // this._state.profilePage.posts.push(newPost);\n        // this._state.profilePage.newPostText = '';\n        // this._callSubscriber(this._state);\n        profileReducer(this._state.profilePage, action);\n        break;\n\n      case UPDATE_NEW_POST:\n        this._state.profilePage.newPostText = action.newPostText;\n\n        this._callSubscriber(this._state);\n\n        break;\n\n      case ADD_MESSAGE:\n        let newMessage = {\n          id: 6,\n          message: this._state.dialogPage.newMessageText\n        };\n\n        this._state.dialogPage.messages.push(newMessage);\n\n        this._state.dialogPage.newMessageText = '';\n\n        this._callSubscriber(this._state);\n\n        break;\n\n      case UPDATE_NEW_MESSAGE:\n        this._state.dialogPage.newMessageText = action.newMessageText;\n\n        this._callSubscriber(this._state);\n\n        break;\n    }\n  },\n\n  getState() {\n    return this._state;\n  },\n\n  _callSubscriber() {\n    console.log('CHANGED');\n  },\n\n  subscribe(observer) {\n    this._callSubscriber = observer;\n  }\n\n};\nexport const addPostActionCreator = () => ({\n  type: ADD_POST\n});\nexport const updatePostActionCreator = text => ({\n  type: UPDATE_NEW_POST,\n  newPostText: text\n});\nexport const addNewMessageActionCreator = () => ({\n  type: ADD_MESSAGE\n});\nexport const updateNewMessageActionCreator = text => ({\n  type: UPDATE_NEW_MESSAGE,\n  newMessageText: text\n});\nwindow.store = store;\nexport default store;","map":{"version":3,"sources":["/Users/anna_tugbaeva/WebstormProjects/my-rapp/src/components/redux/state.js"],"names":["profileReducer","ADD_POST","UPDATE_NEW_POST","ADD_MESSAGE","UPDATE_NEW_MESSAGE","store","_state","profilePage","posts","id","content","likes","mainPhoto","newPostText","dialogPage","dialogs","name","messages","message","newMessageText","dispatch","action","type","_callSubscriber","newMessage","push","getState","console","log","subscribe","observer","addPostActionCreator","updatePostActionCreator","text","addNewMessageActionCreator","updateNewMessageActionCreator","window"],"mappings":"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","sourcesContent":["import profileReducer from \"./profileReducer\";\n\nconst ADD_POST = 'ADD-POST';\nconst UPDATE_NEW_POST = 'UPDATE-NEW-POST';\nconst ADD_MESSAGE = 'ADD-MESSAGE';\nconst UPDATE_NEW_MESSAGE = 'UPDATE-NEW-MESSAGE';\n\nlet store = {\n    _state :  {\n\n        profilePage: {\n            posts: [\n                {id:1, content: 'Post1', likes: 10},\n                {id:1, content: 'Post2', likes: 20},\n                {id:1, content: 'Post3', likes: 30},\n                {id:1, content: 'Post4', likes: 40}\n            ],\n            mainPhoto: 'https://www.w3schools.com/howto/img_avatar.png',\n            newPostText: 'dich'\n        },\n\n        dialogPage: {\n            dialogs: [\n                {id: 1, name: 'Name1'},\n                {id: 2, name: 'Name2'},\n                {id: 3, name: 'Name3'},\n                {id: 4, name: 'Name4'}\n            ],\n            messages: [\n                {id: 1, message: 'Heyo'},\n                {id: 2, message: 'Hi'},\n                {id: 3, message: 'Hello'},\n                {id: 4, message: 'Salam'},\n                {id: 5, message: 'Ola'}\n            ],\n            newMessageText: ''\n        }\n\n    },\n\n    dispatch(action) {\n        switch (action.type) {\n            case ADD_POST:\n                // let newPost = {\n                //     id: 5,\n                //     content: this._state.profilePage.newPostText,\n                //     likes: 0\n                // };\n                // this._state.profilePage.posts.push(newPost);\n                // this._state.profilePage.newPostText = '';\n                // this._callSubscriber(this._state);\n                profileReducer(this._state.profilePage, action);\n                break;\n\n            case UPDATE_NEW_POST:\n                this._state.profilePage.newPostText = action.newPostText;\n                this._callSubscriber(this._state);\n                break;\n\n            case ADD_MESSAGE:\n                let newMessage = {\n                    id: 6,\n                    message: this._state.dialogPage.newMessageText\n                };\n                this._state.dialogPage.messages.push(newMessage);\n                this._state.dialogPage.newMessageText = '';\n                this._callSubscriber(this._state);\n                break;\n\n            case UPDATE_NEW_MESSAGE:\n                this._state.dialogPage.newMessageText = action.newMessageText;\n                this._callSubscriber(this._state);\n                break;\n        }\n    },\n\n    getState() {\n        return this._state;\n    },\n    _callSubscriber() {\n        console.log('CHANGED');\n    },\n\n    subscribe(observer) {\n        this._callSubscriber = observer;\n    }\n};\n\n\nexport const addPostActionCreator = () => ({ type: ADD_POST });\n\nexport const updatePostActionCreator = (text) => ({ type: UPDATE_NEW_POST, newPostText: text });\n\nexport const addNewMessageActionCreator = () => ({ type: ADD_MESSAGE });\n\nexport const updateNewMessageActionCreator = (text) => ({ type: UPDATE_NEW_MESSAGE, newMessageText: text });\n\n\nwindow.store = store;\n\nexport default store;"]},"metadata":{},"sourceType":"module"}